(function(t){function e(e){for(var n,i,s=e[0],d=e[1],l=e[2],u=0,f=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);c&&c(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var d=a[s];0!==r[d]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var c=d;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e623"),a("e379"),a("5dc8"),a("37e1");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"page-top"}},[a("nav",[a("router-link",{attrs:{to:"/safefood/qna.do"}})],1),a("router-view")],1)},o=[],i={name:"app"},s=i,d=a("2877"),l=Object(d["a"])(s,r,o,!1,null,"77c6365a",null),c=l.exports,u=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("h1",{staticStyle:{"text-align":"center"}},[t._v("QnA 게시판")]),a("paginated-list",{attrs:{"list-array":t.pageArray}})],1)},p=[],h=a("bc3a"),b=a.n(h),v=b.a.create({baseURL:"http://localhost:8197/safefood",headers:{"Content-type":"application/json"}}),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"table"},[a("tr",{staticClass:"table-warning"},[a("th",[t._v("번호")]),a("th",[t._v("제목")]),a("th",[t._v("내용")]),a("th",[t._v("게시일")]),"admin"==t.sid?a("th",[t._v("답글")]):t._e()]),t._l(t.paginatedDate,(function(e){return a("tr",{key:e.no,staticClass:"nicecolor"},[a("td",[t._v(t._s(e.no))]),a("td",{attrs:{id:"btitle"},on:{click:function(a){return t.show_detail(e.no,e.title)}}},[t._v(t._s(e.title))]),a("td",{attrs:{id:"bcontents"},on:{click:function(a){return t.show_detail(e.no,e.title)}}},[t._v(t._s(e.contents))]),a("td",[t._v(t._s(e.regdate))]),"admin"==t.sid?a("td",["admin"==t.sid?a("button",{on:{click:function(a){return t.addreply(e.no)}}},[t._v("답글")]):t._e()]):t._e()])}))],2),a("div",{staticClass:"btn-cover"},[a("button",{staticClass:"page-btn",attrs:{disabled:0==t.pageNum},on:{click:t.prevPage}},[t._v(" 이전 ")]),a("span",{staticClass:"page-count"},[t._v(t._s(t.pageNum+1)+"/"+t._s(t.pageCount)+" 페이지")]),a("button",{staticClass:"page-btn",attrs:{disabled:t.pageNum>=t.pageCount-1},on:{click:t.nextPage}},[t._v(" 다음 ")]),"admin"!=t.sid?a("div",{staticStyle:{float:"right","padding-right":"20px"}},[a("button",{staticClass:"page-btn",on:{click:t.addboard}},[t._v("글쓰기")])]):t._e()])])},g=[],_=(a("fb6a"),a("a9e3"),a("d3b7"),new n["a"]),y=_,w={name:"paginated-list",data:function(){return{sid:"",loading:!0,errored:!1,pageNum:0}},props:{listArray:{type:Array,required:!0},pageSize:{type:Number,required:!1,default:10}},methods:{nextPage:function(){this.pageNum+=1},prevPage:function(){this.pageNum-=1},addreply:function(t){this.$router.push("/safefood/addReply"),setTimeout((function(){y.$emit("no",t)}),1)},addboard:function(){this.$router.push("/safefood/addboard")},show_detail:function(t,e){alert(e+"게시물 상세 보기"),this.$router.push("/safefood/detailBoard"),setTimeout((function(){y.$emit("no",t)}),1)}},computed:{pageCount:function(){var t=this.listArray.length,e=this.pageSize,a=Math.floor(t/e);return t%e>0&&(a+=1),a},paginatedDate:function(){var t=this.pageNum*this.pageSize,e=t+this.pageSize;return this.listArray.slice(t,e)}},mounted:function(){var t=this;v.get("/getsessionId").then((function(e){t.sid=e.data.data})).catch((function(){alert("아이디 로딩 중 오류 발생"),t.errored=!0})).finally((function(){t.loading=!1}))}},$=w,x=(a("912f"),Object(d["a"])($,m,g,!1,null,"bf97b3dc",null)),C=x.exports,S={name:"board-list",components:{PaginatedList:C},data:function(){return{pageArray:[]}},created:function(){var t=this;v.get("/boardSearchAll").then((function(e){console.log(e),t.pageArray=e.data.data})).catch((function(t){console.log(t)}))}},k=S,P=Object(d["a"])(k,f,p,!1,null,"8f5421d4",null),N=P.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.addboard(e)}}},[a("table",{staticClass:"table"},[a("th",{staticClass:"table-warning",attrs:{colspan:"2"}},[t._v(" 게시글 ")]),a("tbody",[a("tr",{attrs:{height:"50"}},[t._m(0),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticStyle:{width:"100%"},attrs:{type:"text",name:"title",id:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),a("tr",{attrs:{height:"50"}},[t._m(1),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticStyle:{width:"100%"},attrs:{disabled:"",name:"id",id:"id"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})])]),t._m(2),a("tr",[a("td",{attrs:{colspan:"2",align:"center"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticStyle:{width:"100%"},attrs:{name:"contents",id:"content",cols:"30",rows:"10"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})])])]),a("tfoot",[a("tr",[a("td",{attrs:{colspan:"2",align:"center"}},[a("button",{staticClass:"page-btn",attrs:{type:"submit"}},[t._v("작성")]),a("button",{staticClass:"page-btn",on:{click:t.returnlist}},[t._v("취소")])])])])])])])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",{attrs:{for:"title"}},[t._v("제목")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",{attrs:{for:"title"}},[t._v("아이디")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"2"}},[a("label",{attrs:{for:"content"}},[t._v("내용")])])])}],j={name:"add-board",data:function(){return{id:"",loading:!0,errored:!1,title:"",content:"",no:"",regdate:"",reply:""}},mounted:function(){this.getsessionid()},methods:{getsessionid:function(){var t=this;v.get("/getsessionId").then((function(e){t.id=e.data.data})).catch((function(){alert("아이디를 받는 도중 오류 발생"),t.errored=!0})).finally((function(){t.loading=!1}))},returnlist:function(){this.$router.push("/safefood/qna.do")},addboard:function(){var t=this;return""==this.title?(alert("제목을 입력하세요"),!1):""==this.content?(alert("내용을 입력하세요"),!1):null==this.id?(alert("로그인 후 작성 가능합니다."),!1):void v.post("/insertBoard",{id:this.id,title:this.title,contents:this.content,no:this.no,regdate:this.regdate,reply:this.reply}).then((function(e){"ok"==e.data.state&&(alert("게시물 등록 성공"),t.$router.push("/safefood/qna.do"))})).catch((function(){alert("게시물 등록 실패"),t.errored=!0})).finally((function(){t.loading=!1}))}}},B=j,q=Object(d["a"])(B,E,O,!1,null,"4fea8577",null),A=q.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"table"},[a("th",{staticClass:"table-warning",attrs:{colspan:"2"}},[t._v(" 게시글 ")]),a("tbody",[a("tr",{attrs:{height:"50"}},[t._m(0),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.board.title,expression:"board.title"}],staticStyle:{width:"100%"},attrs:{type:"text",name:"title",id:"title"},domProps:{value:t.board.title},on:{input:function(e){e.target.composing||t.$set(t.board,"title",e.target.value)}}})])]),a("tr",{attrs:{height:"50"}},[t._m(1),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.board.id,expression:"board.id"}],staticStyle:{width:"100%"},attrs:{disabled:"",type:"text",name:"id",id:"id"},domProps:{value:t.board.id},on:{input:function(e){e.target.composing||t.$set(t.board,"id",e.target.value)}}})])]),t._m(2),a("tr",[a("td",{attrs:{colspan:"2",align:"center"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.board.contents,expression:"board.contents"}],staticStyle:{width:"100%"},attrs:{name:"contents",id:"content",cols:"30",rows:"10"},domProps:{value:t.board.contents},on:{input:function(e){e.target.composing||t.$set(t.board,"contents",e.target.value)}}})])]),null!=t.board.reply?[t._m(3),a("tr",[a("td",{attrs:{colspan:"2",align:"left"}},[a("div",{attrs:{name:"reply",id:"reply"}},[t._v(t._s(t.board.reply))])])])]:t._e()],2),a("tfoot",[a("tr",[a("td",{attrs:{colspan:"2",align:"center"}},[a("button",{staticClass:"page-btn",on:{click:t.modifyboard}},[t._v("수정")]),a("button",{staticClass:"page-btn",on:{click:function(e){return t.deleteboard(t.board.no)}}},[t._v("삭제")]),a("button",{staticClass:"page-btn",on:{click:t.returnlist}},[t._v("취소")])])])])])])},M=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",{attrs:{for:"title"}},[t._v("제목")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",{attrs:{for:"id"}},[t._v("아이디")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"2"}},[a("label",{attrs:{for:"content"}},[t._v("내용")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"2"}},[a("label",{attrs:{for:"reply"}},[t._v("답글")])])])}],R={name:"detail-board",data:function(){return{loading:!0,errored:!1,board:{},sid:""}},created:function(){y.$on("no",this.searchBoard)},mounted:function(){this.getsessionId()},methods:{getsessionId:function(){var t=this;v.get("/getsessionId").then((function(e){t.sid=e.data.data})).catch((function(){alert("아이디 로딩 중 오류 발생"),t.errored=!0})).finally((function(){t.loading=!1}))},searchBoard:function(t){var e=this;v.get("/boardSearch/"+t).then((function(t){e.board=t.data.data})).catch((function(){alert("게시물 조회 중 오류 발생"),e.errored=!0})).finally((function(){e.loading=!1}))},modifyboard:function(){var t=this;return""==this.board.title?(alert("제목을 입력하세요"),!1):this.board.id!=this.sid?(alert("본인의 게시물이 아니라 수정이 불가합니다."),!1):""==this.board.contents?(alert("내용을 입력하세요"),!1):void v.put("/updateBoard",{contents:this.board.contents,id:this.board.id,no:this.board.no,regdate:this.board.regdate,reply:this.board.reply,title:this.board.title}).then((function(e){"ok"==e.data.state&&(alert("수정 성공"),t.$router.push("/safefood/qna.do"))})).catch((function(){alert("게시물 수정 중 오류 발생"),t.errored=!0})).finally((function(){t.loading=!1}))},deleteboard:function(t){var e=this;if(this.board.id!=this.sid)return alert("본인의 게시물이 아니라 삭제가 불가합니다."),!1;v.delete("/deleteBoard/"+t).then((function(t){"ok"==t.data.state&&(alert("삭제 성공"),e.$router.push("/safefood/qna.do"))})).catch((function(){alert("게시물 삭제 중 오류 발생"),e.errored=!0})).finally((function(){e.loading=!1}))},returnlist:function(){this.$router.push("/safefood/qna.do")}}},T=R,z=Object(d["a"])(T,I,M,!1,null,"51dfe39a",null),D=z.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"table"},[a("th",{staticClass:"table-warning",attrs:{colspan:"2"}},[t._v(" 게시글 ")]),a("tbody",[a("tr",{attrs:{height:"50"}},[t._m(0),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.board.title,expression:"board.title"}],staticStyle:{width:"100%"},attrs:{type:"text",name:"title",id:"title"},domProps:{value:t.board.title},on:{input:function(e){e.target.composing||t.$set(t.board,"title",e.target.value)}}})])]),a("tr",{attrs:{height:"50"}},[t._m(1),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.board.id,expression:"board.id"}],staticStyle:{width:"100%"},attrs:{disabled:"",type:"text",name:"id",id:"id"},domProps:{value:t.board.id},on:{input:function(e){e.target.composing||t.$set(t.board,"id",e.target.value)}}})])]),t._m(2),a("tr",[a("td",{attrs:{colspan:"2",align:"center"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.board.contents,expression:"board.contents"}],staticStyle:{width:"100%"},attrs:{disabled:"",name:"contents",id:"content",cols:"30",rows:"10"},domProps:{value:t.board.contents},on:{input:function(e){e.target.composing||t.$set(t.board,"contents",e.target.value)}}})])]),t._m(3),a("tr",[a("td",{attrs:{colspan:"2",align:"center"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.board.reply,expression:"board.reply"}],staticStyle:{width:"100%"},attrs:{name:"reply",id:"reply",cols:"30",rows:"10"},domProps:{value:t.board.reply},on:{input:function(e){e.target.composing||t.$set(t.board,"reply",e.target.value)}}})])])]),a("tfoot",[a("tr",[a("td",{attrs:{colspan:"2",align:"center"}},[a("button",{staticClass:"page-btn",on:{click:t.insertreply}},[t._v("작성")]),a("button",{staticClass:"page-btn",on:{click:t.deletereply}},[t._v("삭제")]),a("button",{staticClass:"page-btn",on:{click:t.returnlist}},[t._v("취소")])])])])])])},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",{attrs:{for:"title"}},[t._v("제목")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("label",{attrs:{for:"title"}},[t._v("아이디")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"2"}},[a("label",{attrs:{for:"content"}},[t._v("내용")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"2"}},[a("label",{attrs:{for:"content"}},[t._v("답글")])])])}],Q={data:function(){return{sid:"",loading:!0,errored:!1,board:{}}},created:function(){y.$on("no",this.searchBoard)},mounted:function(){this.getsessionId()},methods:{getsessionId:function(){var t=this;v.get("/getsessionId").then((function(e){t.sid=e.data.data})).catch((function(){alert("아이디 로딩 중 오류 발생"),t.errored=!0})).finally((function(){t.loading=!1}))},searchBoard:function(t){var e=this;v.get("/boardSearch/"+t).then((function(t){e.board=t.data.data})).catch((function(){alert("게시물 조회 중 오류 발생"),e.errored=!0})).finally((function(){e.loading=!1}))},insertreply:function(){var t=this;v.put("/replyBoard",{contents:this.board.contents,id:this.board.id,no:this.board.no,regdate:this.board.regdate,reply:this.board.reply,title:this.board.title}).then((function(e){"ok"==e.data.state&&(alert("답글 등록 성공"),t.$router.push("/safefood/qna.do"))})).catch((function(){alert("답글 등록 중 오류 발생"),t.errored=!0})).finally((function(){t.loading=!1}))},deletereply:function(){var t=this;v.put("/replyBoard",{contents:this.board.contents,id:this.board.id,no:this.board.no,regdate:this.board.regdate,reply:null,title:this.board.title}).then((function(e){"ok"==e.data.state&&(alert("답글 삭제 성공"),t.$router.push("/safefood/qna.do"))})).catch((function(){alert("답글 삭제 중 오류 발생"),t.errored=!0})).finally((function(){t.loading=!1}))},returnlist:function(){this.$router.push("/safefood/qna.do")}}},U=Q,F=Object(d["a"])(U,J,L,!1,null,"673604a0",null),G=F.exports;n["a"].use(u["a"]);var H=new u["a"]({mode:"history",routes:[{path:"/safefood/qna.do",name:"boardpage",alias:"boardpage",component:N},{path:"/safefood/addboard",name:"addboard",alias:"addboard",component:A},{path:"/safefood/detailBoard",name:"detailBoard",alias:"detailBoard",component:D},{path:"/safefood/addReply",name:"addReply",alias:"addReply",component:G}]});n["a"].config.productionTip=!1,new n["a"]({router:H,render:function(t){return t(c)}}).$mount("#page-top")},"912f":function(t,e,a){"use strict";var n=a("ee3b"),r=a.n(n);r.a},ee3b:function(t,e,a){}});
//# sourceMappingURL=app.e5a23020.js.map